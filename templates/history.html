<!-- 
    Template: history
    Purpose: Displays a historical log of the user's weather journal entries. 
    Each entry can contain various data points, such as temperature, wind speed, and humidity.
    The % if entry.temp % syntax is used to ensure that the data is only displayed if it exists.
-->

{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}

    {% for entry in entries %}
    <!-- templates/history.html -->
    <table class="entry-table">
        <tr>
            <td>timestamp</td>
            <td>{{ entry.log_time }}</td>
        </tr>
        {% if entry.temp %}
        <tr>
            <td>temperature</td>
            <td>{{ entry.temp }} Â°F</td>
        </tr>
        {% endif %}
        {% if entry.wind_speed %}
        <tr>
            <td>wind speed</td>
            <td>{{ entry.wind_speed }} mph</td>
        </tr>
        {% endif %}
        {% if entry.wind_direction %}
        <tr>
            <td>wind direction</td>
            <td>{{ entry.wind_direction }}</td>
        </tr>
        {% endif %}
        {% if entry.air_notes %}
        <tr  class="notes-row">
            <td>air notes</td>
            <td>{{ entry.air_notes }}</td>
        </tr>
        {% endif %}
        {% if entry.humidity %}
        <tr>
            <td>humidity</td>
            <td>{{ entry.humidity }} %</td>
        </tr>
        {% endif %}
        {% if entry.cloud_coverage %}
        <tr>
            <td>cloud coverage</td>
            <td>{{ entry.cloud_coverage }} %</td>
        </tr>
        {% endif %}
        {% if entry.cloud_speed %}
        <tr>
            <td>cloud speed</td>
            <td>{{ entry.cloud_speed }}</td>
        </tr>
        {% endif %}
        {% if entry.cloud_direction %}
        <tr>
            <td>cloud direction</td>
            <td>{{ entry.cloud_direction }}</td>
        </tr>
        {% endif %}
        {% if entry.cloud_altitude %}
        <tr>
            <td>cloud altitude</td>
            <td>{{ entry.cloud_altitude }}</td>
        </tr>
        {% endif %}
        {% if entry.precipitation %}
        <tr>
            <td>precipitation</td>
            <td>{{ entry.precipitation }}</td>
        </tr>
        {% endif %}
        {% if entry.water_notes %}
        <tr class="notes-row">
            <td>water notes</td>
            <td>{{ entry.water_notes }}</td>
        </tr>
        {% endif %}
        {% if entry.moon_phase %}
            <tr>
                <td>moon phase</td>
                <!-- moon phase images are dynamically generated from the 'moon_phase' field in the database. -->
                <td><img src="{{ 'static/moon_images/' + (entry.moon_phase|string) + '.svg' }}" style="width:30px; height:30px;" alt="{{ entry.moon_phase }}"></td>
            </tr>
        {% endif %}
        {% if entry.bio_notes %}
        <tr class="notes-row">
            <td>bio notes</td>
            <td>{{ entry.bio_notes }}</td>
        </tr>
        {% endif %}

    </table>
    {% endfor %}

{% endblock %}
